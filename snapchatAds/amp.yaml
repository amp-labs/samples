specVersion: 1.0.0
integrations:
  - name: readAndWriteSnapchatAds
    displayName: SnapchatAds read and write
    provider: snapchatAds
    # Define what you want to read
    # Learn more: https://docs.withampersand.com/docs/read-actions
    read:
      objects:
        - objectName: billingcenters
          destination: snapchatadsWebhook
          schedule: "*/10 * * * *" # Every 10 minutes
          # Field names come from https://developers.snap.com/api/marketing-api/Ads-API/billing-centers#get-all-billing-centers
          requiredFields:
            - fieldName: id
            - fieldName: name
            - fieldName: address_line_1
          optionalFieldsAuto: all

        - objectName: adaccounts
          destination: snapchatadsWebhook
          schedule: "*/10 * * * *" # Every 10 minutes
          # Field names come from https://developers.snap.com/api/marketing-api/Ads-API/ad-accounts#get-all-ad-accounts
          requiredFields:
            - fieldName: id
            - fieldName: name
          optionalFieldsAuto: all

        - objectName: targeting/location/categories_loi
          destination: snapchatadsWebhook
          schedule: "*/10 * * * *" # Every 10 minutes
          # Field names come from https://developers.snap.com/api/marketing-api/Ads-API/targeting#device---os-type
          requiredFields:
            - fieldName: id
            - fieldName: name
          optionalFieldsAuto: all

    write:
      objects:
        - objectName: billingcenters
        - objectName: members
        - objectName: adaccounts

    proxy:
      enabled: true
