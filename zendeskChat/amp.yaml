specVersion: 1.0.0
integrations:
  - name: zendeskchat-integration
    displayName: Zendesk Chat read and write
    provider: zendeskChat
    read:
      objects:
        - objectName: chats
          destination: zendeskChatWebhook
          schedule: "*/10 * * * *" # Every 10 minutes
          requiredFields:
            - fieldName: id
            - fieldName: session
            - fieldName: timestamp
          optionalFields:
            - fieldName: rating

        - objectName: agents
          destination: zendeskChatWebhook
          schedule: "*/10 * * * *" # Every 10 minutes
          requiredFields:
            - fieldName: id
            - fieldName: first_name
            - fieldName: last_name
            - fieldName: last_login
            - fieldName: email
          optionalFields:
            - fieldName: roles

        - objectName: triggers
          destination: zendeskChatWebhook
          schedule: "*/10 * * * *" # Every 10 minutes
          requiredFields:
            - fieldName: name
            - fieldName: enabled
            - fieldName: id
          optionalFieldsAuto: all

    write:
      objects:
        - objectName: chats
        - objectName: agents
        - objectName: triggers
