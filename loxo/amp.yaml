specVersion: 1.0.0
integrations:
  - name: readAndWriteLoxo
    displayName: Loxo read and write
    provider: loxo
    # Define what you want to read
    # Learn more: https://docs.withampersand.com/docs/read-actions
    read:
      objects:
        - objectName: forms
          destination: loxoWebhooks
          schedule: "*/10 * * * *" # Every 10 minutes
          # Field names can be found at https://loxo.readme.io/reference/formsindex
          requiredFields:
            - fieldName: id
            - fieldName: title
          optionalFieldsAuto: all

        - objectName: deals
          destination: loxoWebhooks
          schedule: "*/10 * * * *" # Every 10 minutes
          # Field names can be found at https://loxo.readme.io/reference/dealsindex
          requiredFields:
            - fieldName: id
            - fieldName: name
          optionalFieldsAuto: all

        - objectName: person_events
          destination: loxoWebhooks
          schedule: "*/10 * * * *" # Every 10 minutes
          # Field names can be found at https://loxo.readme.io/reference/person_eventsindex
          requiredFields:
            - fieldName: id
            - fieldName: notes
          backfill:
            defaultPeriod:
              days: 30 # Backfill the last 30 days of data
          optionalFieldsAuto: all

    write:
      objects:
        - objectName: companies
        - objectName: people
        - objectName: person_events

    proxy:
      enabled: true
