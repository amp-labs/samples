specVersion: 1.0.0
integrations:
  - name: readAndWriteSellsy
    displayName: Sellsy read and write
    provider: sellsy
    # Define what you want to read
    # Learn more: https://docs.withampersand.com/docs/read-actions
    read:
      objects:

        - objectName: contacts
          destination: sellsyWebhook
          schedule: "*/10 * * * *" # Every 10 minutes
          # Field names come from https://docs.sellsy.com/api/v2/#operation/get-contacts
          requiredFields:
            - fieldName: first_name
            - fieldName: last_name
          optionalFieldsAuto: all

        - objectName: items
          destination: sellsyWebhook
          schedule: "*/10 * * * *" # Every 10 minutes
          # Field names come from https://docs.sellsy.com/api/v2/#operation/get-items
          requiredFields:
            - fieldName: name
            - fieldName: reference
            - fieldName: currency
          optionalFieldsAuto: all

    write:
      objects:
        - objectName: contacts # https://docs.sellsy.com/api/v2/#operation/create-contact

    proxy:
      enabled: true
