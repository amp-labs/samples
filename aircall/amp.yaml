specVersion: 1.0.0
integrations:
  - name: aircall-integration
    displayName: Aircall Test Integration
    provider: aircall

    # Read Actions (Sync)
    read:
      objects:
        - objectName: contacts
          destination: aircallWebhook
          schedule: "*/10 * * * *" # Every 10 minutes
          requiredFields:
            - fieldName: id
            - fieldName: first_name
            - fieldName: last_name
          backfill:
            defaultPeriod:
              days: 30
          optionalFieldsAuto: all

        - objectName: calls
          destination: aircallWebhook
          schedule: "*/10 * * * *"
          requiredFields:
            - fieldName: id
            - fieldName: direction
            - fieldName: status
          backfill:
            defaultPeriod:
              days: 30
          optionalFieldsAuto: all

    # Write Actions
    write:
      objects:
        - objectName: contacts
        - objectName: calls

    # Proxy Access
    proxy:
      enabled: true
