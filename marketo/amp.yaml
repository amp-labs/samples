specVersion: 1.0.0
integrations:
  - name: readWriteMarketo
    provider: marketo
    read:
      objects:
        # More fields can be seen here
        # https://developer.adobe.com/marketo-apis/api/mapi/#operation/getLeadsByFilterUsingGET
        - objectName: leads
          destination: marketoWebhook
          schedule: "0 */6 * * *" # every 6 hours
          requiredFields:
            - fieldName: id
            - fieldName: firstName
            - fieldName: lastName
            - fieldName: email
          optionalFields:
            - fieldName: address

        # More fields can be seen here
        # https://developer.adobe.com/marketo-apis/api/mapi/#operation/getCampaignsUsingGET
        - objectName: campaigns
          destination: marketoWebhook
          schedule: "0 */6 * * *" # every 6 hours
          requiredFields:
            - fieldName: active
            - fieldName: id
            - fieldName: updatedAt
            - fieldName: name
          optionalFieldsAuto: all

    write:
      objects:
        - objectName: leads
        - objectName: companies
        - objectName: opportunities
