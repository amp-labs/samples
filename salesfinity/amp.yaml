specVersion: 1.0.0
integrations:
  - name: salesfinityIntegration
    displayName: Salesfinity Integration
    provider: salesfinity
    # Define what you want to read
    # Learn more: https://docs.withampersand.com/docs/read-actions
    read:
      objects: 
        - objectName: contact-lists
          destination: salesfinityWebhook
          schedule: "*/10 * * * *" # Every 10 minutes
          requiredFields:
            - fieldName: _id
            - fieldName: name
          optionalFieldsAuto: all

        - objectName: contact-lists/csv
          destination: salesfinityWebhook
          schedule: "*/10 * * * *" # Every 10 minutes
          requiredFields:
            - fieldName: _id
            - fieldName: name
          optionalFieldsAuto: all

        - objectName: call-log
          destination: salesfinityWebhook
          schedule: "*/10 * * * *" # Every 10 minutes
          requiredFields:
            - fieldName: _id
            - fieldName: to
          optionalFieldsAuto: all
          backfill:
            defaultPeriod:
              fullHistory: true

    write:
      objects:
        - objectName: contact-lists

    proxy:
      enabled: true