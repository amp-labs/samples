specVersion: 1.0.0
integrations:
  - name: readAndWriteBreakcold
    displayName: Breakcold read and write
    provider: breakcold
    # Define what you want to read
    # Learn more: https://docs.withampersand.com/docs/read-actions
    read:
      objects:

        - objectName: leads
          destination: breakcoldWebhook
          schedule: "*/10 * * * *" # Every 10 minutes
          # Field names come from https://developer.breakcold.com/v3/api-reference/leads/list-leads-with-pagination-and-filters
          requiredFields:
            - fieldName: id
            - fieldName: first_name
            - fieldName: last_name
          optionalFieldsAuto: all

        - objectName: tags
          destination: breakcoldWebhook
          schedule: "*/10 * * * *" # Every 10 minutes
          # Field names come from https://developer.breakcold.com/v3/api-reference/tags/list-tags
          requiredFields:
            - fieldName: id
            - fieldName: name
          optionalFieldsAuto: all

        - objectName: reminders
          destination: breakcoldWebhook
          schedule: "*/10 * * * *" # Every 10 minutes
          # Field names come from https://developer.breakcold.com/v3/api-reference/reminders/list-reminders-with-filters-and-pagination
          requiredFields:
            - fieldName: id
            - fieldName: date
            - fieldName: name
          optionalFieldsAuto: all

    write:
      objects:
        - objectName: notes
        - objectName: lead
        - objectName: reminders

    proxy:
      enabled: true
