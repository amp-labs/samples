specVersion: 1.0.0
integrations:
  - name: calendly-integration
    provider: calendly
    read:
      objects:
        # More fields can be seen here
        # https://developer.calendly.com/api-docs/2d5ed9bbd2952-list-events
        - objectName: scheduled_events
          destination: calendlyWebhook
          schedule: "*/10 * * * *" # Every 10 minutes
          requiredFields:
            - fieldName: name
            - fieldName: uri
            - fieldName: start_time
            - fieldName: location
          optionalFields:
            - fieldName: event_guests

        # More fields can be seen here
        # https://developer.calendly.com/api-docs/25a4ece03c1bc-list-user-s-event-types
        - objectName: event_types
          destination: calendlyWebhook
          schedule: "*/10 * * * *" # Every 10 minutes
          requiredFields:
            - fieldName: internal_note
            - fieldName: kind
            - fieldName: pooling_type
            - fieldName: name
            - fieldName: duration
            - fieldName: type
          optionalFieldsAuto: all

    write:
      objects:
        - objectName: scheduling_links
        - objectName: one_off_event_types
        - objectName: event_types
