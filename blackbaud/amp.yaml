specVersion: 1.0.0
integrations:
  - name: readAndWriteBlackbaud
    displayName: Blackbaud read and write
    provider: blackbaud
    # Define what you want to read
    # Learn more: https://docs.withampersand.com/docs/read-actions
    read:
      objects:

        - objectName: crm-adnmg/currencies
          destination: blackbaudWebhook
          schedule: "*/10 * * * *" # Every 10 minutes
          # Field names come from https://developer.sky.blackbaud.com/api#api=crm-adnmg&operation=ListCurrencies
          requiredFields:
            - fieldName: id
            - fieldName: name
            - fieldName: locale
          optionalFieldsAuto: all

        - objectName: crm-evtmg/registrants
          destination: blackbaudWebhook
          schedule: "*/10 * * * *" # Every 10 minutes
          # Field names come from https://developer.sky.blackbaud.com/api#api=crm-evtmg&operation=SearchEventRegistrants
          requiredFields:
            - fieldName: id
            - fieldName: registrant
          optionalFieldsAuto: all

        - objectName: crm-fndmg/fundraisingpurposes
          destination: blackbaudWebhook
          schedule: "*/10 * * * *" # Every 10 minutes
          # Field names come from https://developer.sky.blackbaud.com/api#api=crm-fndmg&operation=SearchFundraisingPurposes
          requiredFields:
            - fieldName: id
            - fieldName: name
          optionalFieldsAuto: all

    write:
      objects:
        - objectName: crm-adnmg/batches
        - objectName: crm-conmg/emailaddresses
        - objectName: crm-volmg/volunteers

    proxy:
      enabled: true
